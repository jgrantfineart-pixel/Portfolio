<!DOCTYPE HTML>
<html>
<head>
    <title>J. Grant Fine Art | Kansas City Classical Landscape & Portrait Artist</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <meta name="description" content="Welcome to the portfolio of J. Grant Merrill. Explore classical oil landscapes and portraiture by the Kansas City-based fine artist." />
    <meta name="keywords" content="J. Grant Merrill, Kansas City artist, classical art, oil painting, landscape art, portraiture, fine art" />
    
    <link rel="canonical" href="https://[YOURDOMAIN.COM]/index.html" /> 

    <meta property="og:title" content="J. Grant Fine Art | Classical Landscape & Portrait Artist" />
    <meta property="og:description" content="Explore the newest original artworks recently completed and added to the collection." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://[YOURDOMAIN.COM]/index.html" />
    <link rel="stylesheet" href="assets/css/main.css" />
    
    <style>
        /* --- Header Title Fix (No Change) --- */
        header.major h1 {
            text-transform: none; /* normal capitalization */
            font-size: 2.2em;     /* slightly smaller */
            line-height: 1.2;
            margin-bottom: 0.5em;
        }

        /* --- Gallery Styles (No Change) --- */
        #recent-gallery {
            display: block; 
            margin-top: 2rem;
            padding: 2rem 0;
            column-count: 3; 
            column-gap: 20px; 
        }
        
        @media screen and (max-width: 1200px) { #recent-gallery { column-count: 2; } }
        @media screen and (max-width: 736px) { #recent-gallery { column-count: 1; column-gap: 0; } }
        
        .gallery-item {
            display: inline-block;
            width: 100%;
            margin-bottom: 20px; 
            overflow: hidden;
            border-radius: 6px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .gallery-item img {
            width: 100%;
            height: auto; 
            display: block;
            border-radius: 6px; 
            transition: opacity 0.3s ease;
        }

        #header ul.icons { margin: 0; }
        #header .icons li { padding-left: 1em; }

        /* --- Modal Styles (No Change) --- */
        #modal {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: auto;
        }
        #modal-content {
            max-width: 90%;
            max-height: 90%;
            text-align: left;
            color: #fff;
            position: relative;
        }
        #modal img { width: 100%; height: auto; border-radius: 6px; }
        #modal-details { margin-top: 0.5rem; font-size: 1rem; }
        #modal-details .modal-contact-prompt {
            font-size: 0.9rem;
            font-style: italic;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            opacity: 0.8;
        }

        #modal-close, #modal-prev, #modal-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.3);
            border: none;
            padding: 0.5rem 1rem;
            font-size: 1.25rem;
            color: #000;
            cursor: pointer;
            border-radius: 4px;
        }
        #modal-close { top: 1rem; right: 1rem; transform: none; }
        #modal-prev { left: -2rem; display: block; } 
        #modal-next { right: -2rem; display: block; }

        .back-link {
            display: none; /* Hide this on the index page, only show on recent.html */
        }
    </style>
</head>
<body class="is-preload">

<div id="wrapper">
    <div id="main">
        <div class="inner">
            <header id="header">
                <a href="index.html" class="logo"><strong>J. Grant</strong> Fine Art</a>
                <ul class="icons">
                    <li>
                        <a href="https://www.instagram.com/jgrant_fineart" class="icon brands fa-instagram" target="_blank">
                            <span class="label">Instagram</span>
                        </a>
                    </li>
                    <li>
                        <a href="mailto:jgrantfineart@gmail.com" class="icon solid fa-envelope">
                            <span class="label">Email</span>
                        </a>
                    </li>
                </ul>
            </header>

            <section>
                <header class="major">
                    <h1>J. Grant Merrill | Classical Landscape & Portrait Artist</h1>
                    
                    <br> 
                    
                    <p style="font-size: 1em; color: #777;">
                        Welcome! I'm J. Grant Merrill, a Kansas City-based artist specializing in classical landscapes and portraiture. 
                        My artistic exploration is a continuous process. Fueled by a lifelong fascination with tools and the human capacity to create, I'm constantly learning and experimenting with new techniques and ideas. I love exploring modern subjects using traditional techniques to create work that is both contemporary and timeless and to explore the beauty that surrounds us.
                    </p>
                    
                    <p style="font-size: 1em; color: #777;">
                        Head over to my gallery to see some of my recent work and to learn more about my portrait commissioning process. If you would like to keep up with my latest work and the things that inspire me, please consider subscribing to my newsletter. 
                    </p>
                </header>

                <div id="recent-gallery" aria-label="Recent artwork grid"></div>
            </section>
        </div>
    </div>

    <div id="sidebar">
        <div class="inner">
            <nav id="menu">
                <header class="major"><h2>Menu</h2></header>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="cv.html">CV</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="https://jgrantfineart.square.site/shop/original-art/HX7HKUXSE4ZA47RJKRRKUZX6" target="_blank">Shop</a></li>
                    <li><a href="https://jgrantfineart.substack.com/?utm_campaign=profile_chips" target="_blank">Newsletter</a></li>
                </ul>
            </nav>

            <section>
                <header class="major"><h2>Get in touch</h2></header>
                <p>Email me for commissions or inquiries.</p>
                <ul class="contact">
                    <li class="icon solid fa-envelope"><a href="mailto:jgrantfineart@gmail.com">jgrantfineart@gmail.com</a></li>
                </ul>
            </section>

            <footer id="footer">
                <p class="copyright">&copy; J. Grant Fine Art. All rights reserved. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
            </footer>
        </div>
    </div>
</div>

<div id="modal" class="flex">
    <div id="modal-content">
        <button id="modal-close">×</button>
        <button id="modal-prev">&#8592;</button> 
        <button id="modal-next">&#8594;</button> 
        <img id="modal-img" src="" alt="">
        <div id="modal-details"></div>
    </div>
</div>

<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="images/Recent-Work/recent_work.js"></script>

<script>
// ✅ FIX: Changed 'recentImages' to 'recentWork' to match your data file.
const images = typeof recentWork !== 'undefined' ? recentWork : [];

const gallery = document.getElementById("recent-gallery");
const modal = document.getElementById("modal");
const modalImg = document.getElementById("modal-img");
const modalDetails = document.getElementById("modal-details");
const modalClose = document.getElementById("modal-close");
const modalPrev = document.getElementById("modal-prev");
const modalNext = document.getElementById("modal-next");
let currentIndex = 0;

function openModal(index){ currentIndex = index; updateModalContent(); modal.style.display = "flex"; }
function closeModal(){ modal.style.display = "none"; }

function updateModalContent(){
    const img = images[currentIndex]; if(!img) return;
    
    // ✅ Updated path logic to use || for better fallback, matching the fixed recent.html
    modalImg.src = img.full_image || img.thumb_image; 
    modalImg.alt = img.alt_text || img.title || `Recent artwork by ${img.artist || "J. Grant Merrill"}`;
    
    let year = img.date_created ? img.date_created.toString().substring(0,4) : "N/A";
    let statusLine = "", contactLine = "";
    const isAvailable = img.status && img.status.toLowerCase() === "available";
    
    if(isAvailable){
        statusLine = img.price && !isNaN(parseFloat(img.price)) && parseFloat(img.price) > 0 ? `Available, $${parseInt(img.price)}` : "Available, Contact for Pricing";
        contactLine = `<p class="modal-contact-prompt"><a href="contact.html">Contact me</a> for more information or to purchase this artwork.</p>`;
    } else {
        statusLine = img.status ? img.status : "N/A";
        contactLine = `<p class="modal-contact-prompt">This piece is ${statusLine.toLowerCase()}. Please <a href="contact.html">contact me</a> for commissions or other inquiries.</p>`;
    }
    
    modalDetails.innerHTML = `
        <p><strong>Title:</strong> ${img.title || "Untitled"}</p>
        <p><strong>Medium:</strong> ${img.medium || "N/A"}</p>
        <p><strong>Size:</strong> ${img.width || "?"} × ${img.height || "?"} in</p>
        <p><strong>Completed:</strong> ${year}</p>
        <p><strong>Status:</strong> ${statusLine}</p>
        ${contactLine}
    `;
}

function prevImage(){ currentIndex = (currentIndex - 1 + images.length) % images.length; updateModalContent(); }
function nextImage(){ currentIndex = (currentIndex + 1) % images.length; updateModalContent(); }

function renderGallery() {
    gallery.innerHTML = "";
    if(Array.isArray(images) && images.length>0){
        images.forEach((img,index)=>{
            const item=document.createElement("div");
            item.className="gallery-item";
            const altText = img.alt_text || img.title || `Recent artwork by ${img.artist || "J. Grant Merrill"}`;
            
            // ✅ Updated path logic to use || for better fallback, matching the fixed recent.html
            const imageSrc = img.thumb_image || img.full_image || ""; 
            
            item.innerHTML=`<img src="${imageSrc}" alt="${altText}" loading="lazy" />`;
            item.addEventListener("click",()=>openModal(index));
            gallery.appendChild(item);
        });
    } else {
        gallery.innerHTML='<p>No recent work images found to display in the gallery or the image list file is missing.</p>';
    }
}

modalClose.addEventListener("click",closeModal);
modalPrev.addEventListener("click",prevImage);
modalNext.addEventListener("click",nextImage);
modal.addEventListener("click",(e)=>{ if(e.target===modal) closeModal(); });

// --- Initial render ---
renderGallery();
</script>

</body>
</html>